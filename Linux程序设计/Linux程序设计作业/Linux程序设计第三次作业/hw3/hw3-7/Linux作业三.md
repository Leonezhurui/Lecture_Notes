# Linux作业三

## 第一题

区别在于程序二用了memset做初始化  
程序一里的malloc由于没有使用这块内存，会被编译器优化掉，导致不会开辟空间，也不会爆堆，所以会死循环  
而程序二malloc之后用memset修改了这块内存里的值，不会被优化掉，空间开辟成功，他会不断循环开空间直到爆堆，最后退出

## 第二题

参见代码文档和旁边的代码

## 第三题

### 驱动编写

总体上，可以用module_init与module_exit来编写驱动加载与退出时的行为  

具体来说  
首先要申请设备号；然后声明并实现驱动提供的可被调用的函数；接下来需要定义一个cdev结构体，它保存了驱动以及设备的信息，把它注册到系统，并和设备号绑定起来；最后创建挂载的文件节点

### 编译

写Makefile或者手动编译成动态链接的.ko文件，把它放到对应的目录下，使用insmod加载
